<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>中文輸入法練習遊戲</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f0f0;
            overflow: hidden;
            margin: 0;
            padding: 0;
            height: 100vh;
            position: relative;
        }
        .game-area {
            width: 1024px;
            margin: 0 auto;
			background: linear-gradient(to bottom, #e6f7ff, #b3e5ff);
            position: relative;
            height: 100vh;
            border: 1px solid #000;
            overflow: hidden;
        }
        .container {
            position: absolute;
            bottom: 20px;
            width: 100%;
        }
        .falling-word {
            position: absolute;
            font-size: 2em;
            background-color: #ffeb3b;
            padding: 10px 15px;;
            border-radius: 5px;
			box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
			transition: top 2s, background-color 2s;
        }
        .falling-word.arrow::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 2px;
            background-color: black ;
			top: 25px;
			left: 7px;
            transform: rotate(45deg);
        }
        .falling-word.arrow::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: black;
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            transform: rotate(70deg);
            top: 30px;
            left: 20px;
        }
        input {
            font-size: 1.5em;
            padding: 10px;
            width: 100px;
        }
        .result {
            font-size: 1.2em;
            margin-top: 20px;
        }
        .game-over {
            font-size: 3em;
            color: red;
        }
    </style>
</head>
<body>
    <div class="game-area">
        <div class="container">
            <div class="input-container">
                <input type="text" id="input" placeholder="" onkeyup="checkInput(event)">
            </div>
            <div class="result" id="result"></div>
            <!--button onclick="startGame()">開始遊戲</button-->
        </div>
        <div id="game-over" class="game-over" style="display: none;">Game Over</div>
    </div>
    <script>
        const level1 = '的是一我不有在這個人就了們他來以大會到要為時上說可也中後對生你那好年出都家能國子多地所得很下過自成學麼看然去因之小樣天用沒現心還發而和方面事開作與台長前經當動分如其實她但行於想法裡著起它最道做公些日種民力同點高本常讓定工間新重理外意進表全比水主情只者從文業果部把等候己十什市將兩三像覺跟已無機體回加手老或及知關感美場再物問更化身政度教師次相位月性合應真此名明被二正電才活第話頭車東灣入太內區受提變給西女路特每員氣接今並先代期題金又打品至選非示立原產北吃認少較安保影媽處書平任邊解山由元放別量利通見海結建資直孩走帶目色四程式計完觀總愛使友世五花口造向展近光社望辦南幾始數啊畫風該林醫管各指親信怎難持運何收設馬兒調許整樂清嗎傳議剛張統反講院且未包基交府則病門義務強快百達眾流改住農空報聽請食演卻件界導神呢球往環單服論戰助求滿聲記照習連案視創校需白軍除團形容告希類片共治必參王科斯商命思局便節費轉推決續幫術隊萬找客司質士專黨園眼考制取約言即境謝夠六舉驗投曾早價阿失寫音八步九喜線德歡料歲越輕陳育深字熱母格男縣研爸朋易克陸功落念叫拿底營華組狀離引昨查拉識房條另死妳濟首養土具消象父態精確黃例段究況備藝護布官英領史系響算際香雖集福半規興火周標菜透源七權型味遠準故警里語站慢遊係角歷害稱聯網錢送支鄉根技李斷協圖油紅證城亞超排千須低讀試爾爭甚賽預買供石維笑勢隨錯談夫足獲晚擔景留班製課切增檢顯廣傷苦裝委居掉素吧哪概效待店健般依存紀喔仍善極若溫率防藥修差康據志乎族訴寶顧雙蘭級願嚴細青樹注假壓黑牠古練禮啦配值星令玩久層血息腦初屬巴停號器項餐列群刻羅獨職致似否僅絕拍奇室終簡吸免適陽破積卡置米茶跑察採戲館龍臺療緊腳怕施木速劇痛旅智負模港戶哥微草升換優擊飛票綠突責討復獎印田派策錄限構繼歌補括亮忙朝廠承雄賣退評救河庭倒雨坐減答險皮午岸材盡乾享止企休背臉富訊穿衣酒份密夜塊博衛永殺疑鐵牌波葉村座充弟樓魚互宣姊順降麗圍省恐';
        const level2 = '執登洲竟皇懷歐趣測普童屋呼股春困訪婚武靜竹銀季聞植帝益飯異幸拜吳冷靈移遭急某追肉您症州野島控兵左慈靠唱典舞毒隻銷鐘款威姓擇佳洗勝臨驚災勞句遇紙副席板旁京誰蔡雲街版劉露絲夢判缺購章財江趕右抗堅短筆宗喝洋燈律域宜染衝謂秀雜釋佛鼓船尼睡粉迎漸貴織均守楚危宮努良搭激妹榮壞韓舊畢怪範階核恩納堂訓熟述鎮挑豐介藏曲付監蘇針沙貨牛避跳亂延攝棒玉蓋婦毛蛋附尋含批嘉略競慧患醒築尤敗彩頂媒攻楊散川辛棄餘授融探署藍編輪招額抱架敢吉鮮伯擁漢邀森啟揮夏飲彈麻湯套浪桃圓罪逐審盛隆掌耶奶祖慣徵燒央冰勵觸骨端豆尚愈賴索陣翻迷封障遺慶烈穩溪惡伴雅湖忘震播累嘛妻哈鬆售航盤詩惠尊蟲聚蓮聖床爆爺瑞隔脫幣仁革潮泰歸伊既亡柯糖犯倫巧詞弱幕偏折載牙婆慮橋尺固憶私藉緒鳥廳幹懂刀暴貼耳珍瓜射複哲麵刺誤鏡淨孫肯劃培估狗抽稅束陪賞診序溝申煮兄袋圈頓庫按握績緣甜唯替默勇廢禁仔零訂顆董貝顏搶騎沉紛擺雪呈暗軟暖姐抓戴距泡冠籍損睛析碰桌漂髮操胡癌違輸盟逃擴儀鄭冬純摩幼雞幅奧亦獻硬輩甲秋忍塞梅巨朱貿游紹雷諾捐搖符呀寬緩忠酸屆尾嘴君莫苗蔬舒誠閱淡洪弄牆杯涉惜麥齊咖齡肥丁塑莊池倍賓寧煩稍隱聊敏疾占洛濃娘召圾塔勒跨垃箱哭混縮途偷傑偶彼坦松返虛厚揚援洞輔剩豪飾詢漫旦促予徐憂丟悲廚艾臟抵迫敬礙旗碼欣罰伸刑焦毫末烏繪遍魯篇窗乘嫌映氏臣泥皆寒殊廟槍偉諸堆簽冒啡宅敵漁珠潔租億瓶喊描督鞋借彰陷徒厲裁掛忽薪斤潛巡鍵滑衡嗯遷鄰郭捷汙脈繁坡讚栗踏番膠阻胞虎峰頻鬥鳳谷撞曉沿宇暫稻唐誌凱閒陰豬劑后秘莉捕腸輛拔俗鍋炸嬤奏祝週耕覆液兼耐嚇駕貓吹瑪丈荷汽瓦壽妙礎晨孔掃琴蒙賺拒漲覽跡壁菌鋼柏絡叔甘閉鬼碳炎屏煙擾奪薩宿肌奮側凡嘗乏浮輯丹怒摸柔爬萊鬧鹽侵疫殘貌搬泉譬昌狂颱尖謀託儘傾廿餅搞蜜頁駐剪乳祭尿托郎贏怨醬宋淚曼勤振朗氧濕欲滅裂循戀蠻扮廷闆膚菲澳炒魔乃迪椅檔趙插奉閃刊腿窮敘鼻壯涼擬寄贈貧囉肚腐紐聰瞭俄辭姆橫枝罵鎖跌孤膽帳邦仰祕干胃飽宏哇攤戒挖刷磨胸擦措裏賢舍灰氛憲駛肝悉割仙';
        const level3 = '噴涵譯薄沖熊遲拆碎繞澤牽孝扶梯燃寺拖姑趨芳併俊債恢添奈毀挺猶曹喪殖邱契羊汗爐杜秒腰肩蕭櫃朵擠岩菸雕眠徑偵盼滾串汁扣稿迴猜碗凌陶滴詳姿荒疏疼匯腹嬰券糕傅騙粗盒埔葛魏慘幻懼祥娜襲搜霧柱販赴蜂郵捨栽慰敦晶旋銘梁紫脆胖貢黎役吐輝伍芬夥彎閣耀滋夾撐籌墨註脂龜莎壇菇喬佩耗吵軌佔蹤蒂埋烤誕爛腫胎璃孕敲奔黏抬崇邁井籲逆鴻桶獄彷鹿玻逼繫糧捲募遞截棟淑蘿儲塵渡佈腎辯徹珊潤肺縱咬躲茲拚籃津膜坪彿鑽錦憑暑悟躍呂償妮燕劍伏卷孟猛凝怖哦晉恨梨禍准慎幽嫁獵侯鋪趁羽勸魂頗蘋霸鑑蒸縫鬱艦宴乖蔣辣旺綁茄騰悅脅堪污嘆勁鼠秦棵厭贊冊糊撫沈昆螢姻袖譽殿牧瘋銅礦堡獅紋綜蛇撤蹟娃斗挫玲允灌筋咪唸歉漏妝辨罷逢翁恆撿盧鈴繳憤昏凍臭噸粒采暢擋貪垂曬龐填惱仲泛迅椒拼潘詹拓躺衰塗倉帽祈屍盜褲齒揭殼廖夕飄柴貫淺逾貸彭瑜膀犬饋曆斥磚罹砍怡巷猴悠崩潭韋燙悔淋眉湧壤抑桿扭俱廁踐斑玄鋒箭薦筍喚遙喻纖赫熙桂頸址棉廊盆惑藤糟帥蝶頒籠誘獸肅撒哀餓禪埃寵罐恭瘦稀掩扁悶臂攜賀繩卓肢拳芝謹賠慕疲灘賭仿訝爵灑裕拌吞械拋蔔痕赤彌瘤鳴酷髒轟驅妥吊毅浴撥懸浩踩抹澎桑榜匙翔艱涯坑忌鴨鍾卅醉疊屈淹邏柳泳琳昭倆芽恰廉欠傲宙賦誇彥碩櫻譜欺賈腔摘頃渴斜謙愉遵貞竊脾帕翼押螺盾拾茂征峽蚊墓坊剝趟佐洽緻姨鷹勾慌蹈逮牲伐撲亭儒盈爽晃瞬憐詐穴餵炮闖羞聘罩碧驟綱臘侍穀駁嶼伙逝陵洩糾虧悄寂穆酵憾菊仇牢寮軸扇穎翠漿壘鍊叛傻衍葬扎葡芒勉卵催蟹奴遮慾砂澡丘闊舌銳翰妨叢御橘綿欄曰沾卦卑披陀萄范晴馨薇爹蓄賜遂癒兆巾棋誼漠菩盲陌蕉鼎捉潑矛碑漆狼盪舟遣礁棲逸郡諒喘寓鄧扯濱欽余墊旨寸酬勘妃粹削佑吻臥踢燦攀蘆薑窩雇熬岡蒼蝦昂娛犧飼鏈庸匹煎艘凶摔岳昇煌膝霍磁罕株樸軒蒐框囊蛙筒嫩脹堤薯纏卿擅溼瑚砲澄哎淵呆錫偽函芭鵝巢枯蕩勃溜宰醜鹹籤遜釐諮抖俠歧叉脊僧潰辱醋稽焚瑋蔥侶翅諧逛煤棚弘腕坤瞧廈曝椎紗墾掘懲誓哩詮刮琪嶺塌瑟諷蕾劣馮豔傢玫碌暨撰緬邪瓷烘魅圳凸兇喉釀燥蝴藩酥壺匆杉畏狹肪泌菁盯殷汪旱袁隧裸傘屢蟻媳掙狠笨';
        const level4 = '戚濫懶釣捏郁驕僵秩謊芋豈溶賄乙唇甸霖履虐丸膩顛仗禽嬌惹帆攪腺宛鉛姬屁趴跪雀劫卸紮屯嘲飆愁泊衷禱濾瑰勳貶轄釘摺蕃抄婷沛旬于歇秉煉暈滯咳躁轎眷攔烹謠僚皂癮炭窄賊狄叮霜膏淘剖塘亨倡昔婉篩闢竭豫髓廂撈堵靖斬崎渾吾墜夷兌襯掀矮瑩溢毯藻蓬衫韻拘浸傍杰咱寡撕盃姚辰崗撼娶訣虹銜茫樑郊兔皺弗騷湊穫稚寨雯舅遼呵緝汰溯醇艇辜愚吟睜鞭迄狐脖蝕奕筷嘯締煞裔弦裙慨僕彙淪耍捧斌莓疆庄鮑奢蓉癢蔓濁杏僑渣訟鴉嚐膨鈞榕槽匠巫逗萍蠟崔厝肖檻掏麟祿勿肇畜蹲沃睹屠瞻挨鯨羨黛粽澆刪瑄矩愧燭繡砸歪揉樁拱仕袍云弊甫襄徽顫勻梭澱隸矣鶴瓊蒜扛吼聳坎柚噪浙蔚禦妄妖薛鹼淮淇硫檯蠢鑰枕鬍棍馳笛聆饒旭鶯鈣苑庚懺惟喃舖滲啤糞汀弓裹挽擎虞桐峻町浦簿郝泣欖祂窯襪繽瞪萎沮甄咒冤檸閩檬蛛尬唉橡寞齋鋁覓誦竄謎晰塢隙穗紓檳划倦禧嗆淳萌濤甩琉戈肆雍澀崙枚梗迦詭祀匪敷諭椰恥艙綺鈔庇喲繃飢滷宵橄垮蘊卒丞尷挪茅芙緯樺鵬繹萱懇吋胺樞吏猿莖簾阮擱卜霞兮焉痠湘俐娟頌棗焙梳屑搏矚冥碟窟紡溉汐姜凹醃摧豹札沸缸柑崖奠喇梵昧詔攏倘寢昱芹熄豚艷錶擲杖竿咽楓秧攬嚼蔗喀輿頰寇韌畔纜籽崛菱拯杭邸螞頑哼溺樟葵瓣輻嗽氫詠伶瀑埤噢癡惶掠芸壢炫窺嗅咸窘嚮彬鑲剎豎喂癱囚蜀沫囑璋耿鉅軀榔尉瞄搓棕敞憩祐駿儉嘿倚瀕穌謬矽俯胰煥鋸諱咕爪妒餡丙淤蔭蔽褐茹甦咦鉤歹哨匈魄磯嫂虔揆齣鑿綻撇雌芥蟬絨蜘蠅妤薰瑤妓嚨遴朴猩駭汝墳矯匿陋啞沐睿陛鬚偕渠萃柄酪卉蕊諺懿糙涂帖拐燉瞞扔禎婿蕙淫魁恕稠啥瀉尹鑼歎朕捍炳闡鑄籬媚鏽哺翹鍛耘詰嘻爻乞犀牡倖蓁夯橙廓賑苔竅荊躬疹賤閔棺睞膳箏陡寅檜鞏昕挾綢沼阪粥趾鄒茱紳衙恍鑫腥埕楷盞哉柬懈阱晏鷺喧倪奸禿斐匡庶堯芯嶄苛斃曠瑣嘔羈痺滄琦嫉餃洶糯鴿嗨鈕壩諜贖眨灸酌綽傭霆焰鈺柵怠譴瀾駝痰琵凰劈暇掰綴戳蒲輾篷嘎嵌縛蹄譚咧悍胤伽瘡咐抒臻潢槓榻鞠嗜揹哄殯攸厄絞逕僱櫥僻祇陝肘嗓岐灶丑毆搗棘蚵胱瞎繕俞眶叩伺芮疇兜邵祠乍瑕俘梓斧晤慷嚷汲曙囂拭霾漬腑滬篤楠奎抨枉秤怯耆凳揪佼弧剔侃澈滔竇骼媛駱疤葷吶贓棧嚀柿';
        
        const levels = [
            { characters: level1, probability: 0.9 },
            { characters: level2, probability: 0.09 },
            { characters: level3, probability: 0.009 },
            { characters: level4, probability: 0.001 }
        ];
        
        let fallingWords = [];
        let score = 0;
        let gameInterval;
        let speed = 0.5;
        let stoppedWords = 0;
		let started = 0;
		let create_rate=0.5;
		let max_rate=1;

        function startGame() {
            score = 0;
            stoppedWords = 0;
            speed = 0.5;
            document.getElementById('result').innerText = '';
            document.getElementById('input').value = '';
            document.getElementById('game-over').style.display = 'none';
            fallingWords = [];
            clearInterval(gameInterval);
			createFallingWord();
            gameInterval = setInterval(createFallingWord, 1000/create_rate);
            updateFallingWords();
        }

        function createFallingWord() {
            const level = getRandomLevel();
            const randomIndex = Math.floor(Math.random() * level.characters.length);
            const character = level.characters[randomIndex];
            const fallingWord = document.createElement('div');
            fallingWord.className = 'falling-word';
            fallingWord.innerText = character;
            fallingWord.style.left = Math.random() * (1024 - 50) + 'px';
            fallingWord.style.top = '0px';
            document.querySelector('.game-area').appendChild(fallingWord);
            fallingWords.push(fallingWord);
        }

        function getRandomLevel() {
            const random = Math.random();
            let sum = 0;
            for (const level of levels) {
                sum += level.probability;
                if (random <= sum) {
                    return level;
                }
            }
        }

        function updateFallingWords() {
            fallingWords.forEach((wordElement, index) => {
                let top = parseFloat(wordElement.style.top);
                if (top < window.innerHeight - 50) {
                    wordElement.style.top = top + speed + 'px';
                } else {
                    if (wordElement.style.backgroundColor !== 'red') {
                        wordElement.style.backgroundColor = 'red';
                        stoppedWords++;
                        if (stoppedWords > 10) {
                            gameOver();
                        }
                    }
                }
            });
            if (stoppedWords <= 10) {
                requestAnimationFrame(updateFallingWords);
            }
        }

        function checkInput(event) {
		    if(started==0){
			    started=1;
				startGame();
			}
            if (event.key === ' ') {
                const input = document.getElementById('input').value.trim();
                let matched = false;
                fallingWords.forEach((wordElement, index) => {
                    if (input === wordElement.innerText && wordElement.style.backgroundColor !== 'red') {
                        score++;
                        document.getElementById('result').innerText = `得分: ${score}`;
                        wordElement.classList.add('arrow');
                        wordElement.style.transition = 'top 2s, background-color 2s';
                        wordElement.style.top = '-50px';
                        wordElement.style.backgroundColor = 'lightgray';
                        setTimeout(() => {
                            document.querySelector('.game-area').removeChild(wordElement);
                        }, 2000);
                        fallingWords.splice(index, 1);
                        matched = true;
                    }
                });
                document.getElementById('input').value = '';
                // 提高速度
                speed += 0.01;
				if(create_rate< max_rate){
					create_rate+=0.01;
				}
            }
        }

        function gameOver() {
            clearInterval(gameInterval);
            document.getElementById('game-over').style.display = 'block';
        }
    </script>
</body>
</html>
